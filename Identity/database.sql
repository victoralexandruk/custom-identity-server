CREATE TABLE IF NOT EXISTS [Api] (
	[Id] VARCHAR(36) PRIMARY KEY,
	[Name] NVARCHAR(255) NOT NULL UNIQUE,
	[DisplayName] NVARCHAR(255),
	[Enabled] TINYINT NOT NULL DEFAULT 1
);

CREATE TABLE IF NOT EXISTS [Client] (
	[ClientId] VARCHAR(36) PRIMARY KEY,
	[ClientName] NVARCHAR(255) NOT NULL UNIQUE,
	[ClientSecret] NVARCHAR(255) NOT NULL,
   	[LogoUri] NVARCHAR(255),
	[Enabled] TINYINT NOT NULL DEFAULT 1,
	[AllowedUris] TEXT,
	[Permissions] TEXT
);

CREATE TABLE IF NOT EXISTS [Role] (
	[Id] VARCHAR(36) PRIMARY KEY,
	[Name] NVARCHAR(255) NOT NULL UNIQUE,
	[DisplayName] NVARCHAR(255) NOT NULL,
	[Permissions] TEXT
);

CREATE TABLE IF NOT EXISTS [User] (
	[Id] VARCHAR(36) PRIMARY KEY,
	[Username] NVARCHAR(255) NOT NULL UNIQUE,
   	[FullName] NVARCHAR(255) NOT NULL,
	[PasswordHash] NVARCHAR(255),
	[SecurityStamp] NVARCHAR(255),
	[Email] NVARCHAR(255),
	[Role] NVARCHAR(255),
	[Active] TINYINT NOT NULL DEFAULT 1
);

CREATE TABLE IF NOT EXISTS [PersistedGrant] (
	[Key] NVARCHAR(255) PRIMARY KEY,
	[Type] NVARCHAR(255),
	[SubjectId] NVARCHAR(255),
	[SessionId] NVARCHAR(255),
	[ClientId] NVARCHAR(255),
	[Description] NVARCHAR(255),
	[CreationTime] NVARCHAR(255),
	[Expiration] NVARCHAR(255),
	[ConsumedTime] NVARCHAR(255),
	[Data] NVARCHAR(255)
);